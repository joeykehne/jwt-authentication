<div class="navbar">
	<div class="navbar-start">
		<div class="dropdown">
			<div tabindex="0" role="button" class="btn btn-ghost lg:hidden">
				<svg
					xmlns="http://www.w3.org/2000/svg"
					class="h-5 w-5"
					fill="none"
					viewBox="0 0 24 24"
					stroke="currentColor"
				>
					<path
						stroke-linecap="round"
						stroke-linejoin="round"
						stroke-width="2"
						d="M4 6h16M4 12h8m-8 6h16"
					/>
				</svg>
			</div>
			<ul
				tabindex="0"
				class="menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52"
			>
				<li *ngFor="let item of this.navItems">
					<a (click)="onNavigate(item.routerLink)">{{ item.label }}</a>
				</li>
			</ul>
		</div>
		<a class="btn btn-ghost text-xl" (click)="onNavigate('')">{{ appName }}</a>
	</div>
	<div class="navbar-center hidden lg:flex">
		<ul class="menu menu-horizontal gap-3 px-1">
			<li *ngFor="let item of this.navItems">
				<a
					class="btn md:btn-md btn-sm btn-neutral"
					(click)="onNavigate(item.routerLink)"
					>{{ item.label }}</a
				>
			</li>
		</ul>
	</div>
	<div class="navbar-end flex items-center gap-3">
		<div
			*ngIf="authService.user$ | async as user"
			class="flex gap-3 items-center pr-3"
		>
			<div class="dropdown dropdown-end mt-1 z-50">
				<svg
					*ngIf="user.isPaying"
					width="24px"
					height="24px"
					class="fill-warning absolute -right-1 -5 -top-3 rotate-[20deg] z-50"
					version="1.1"
					id="fi_91202"
					xmlns="http://www.w3.org/2000/svg"
					xmlns:xlink="http://www.w3.org/1999/xlink"
					x="0px"
					y="0px"
					viewBox="0 0 267.5 267.5"
					style="enable-background: new 0 0 267.5 267.5"
					xml:space="preserve"
				>
					<path
						d="M256.975,100.34c0.041,0.736-0.013,1.485-0.198,2.229l-16.5,66c-0.832,3.325-3.812,5.663-7.238,5.681l-99,0.5
            c-0.013,0-0.025,0-0.038,0H35c-3.444,0-6.445-2.346-7.277-5.688l-16.5-66.25c-0.19-0.764-0.245-1.534-0.197-2.289
            C4.643,98.512,0,92.539,0,85.5c0-8.685,7.065-15.75,15.75-15.75S31.5,76.815,31.5,85.5c0,4.891-2.241,9.267-5.75,12.158
            l20.658,20.814c5.221,5.261,12.466,8.277,19.878,8.277c8.764,0,17.12-4.162,22.382-11.135l33.95-44.984
            C119.766,67.78,118,63.842,118,59.5c0-8.685,7.065-15.75,15.75-15.75s15.75,7.065,15.75,15.75c0,4.212-1.672,8.035-4.375,10.864
            c0.009,0.012,0.02,0.022,0.029,0.035l33.704,45.108c5.26,7.04,13.646,11.243,22.435,11.243c7.48,0,14.514-2.913,19.803-8.203
            l20.788-20.788C238.301,94.869,236,90.451,236,85.5c0-8.685,7.065-15.75,15.75-15.75s15.75,7.065,15.75,15.75
            C267.5,92.351,263.095,98.178,256.975,100.34z M238.667,198.25c0-4.142-3.358-7.5-7.5-7.5h-194c-4.142,0-7.5,3.358-7.5,7.5v18
            c0,4.142,3.358,7.5,7.5,7.5h194c4.142,0,7.5-3.358,7.5-7.5V198.25z"
					></path>
				</svg>
				<div tabindex="0" role="button" class="avatar placeholder">
					<div
						[ngClass]="{ 'border-2 border-warning': user.isPaying }"
						class="text-white rounded-full w-12"
					>
						<img [src]="authService.imagePreview$.value" alt="" />
					</div>
				</div>
				<div
					tabindex="0"
					class="dropdown-content z-[1] menu p-2 shadow bg-base-300 rounded-box w-52"
				>
					<div class="pt-2 pb-1 px-4 flex items-center gap-2">
						<span class="font-semibold text-lg">{{ user.name }}</span>
						<span *ngIf="user.isPaying" class="badge badge-warning">PRO</span>
						<span
							*ngIf="!user.isPaying"
							class="badge badge-primary cursor-pointer"
							(click)="onNavigate('')"
							fragment="pricing"
							>Free</span
						>
					</div>
					<span class="pb-2 px-4 text-gray-400">{{ user.email }}</span>
					<ul>
						<li>
							<a (click)="onNavigate('settings')">Settings</a>
						</li>
						<li>
							<a class="text-error" (click)="onLogout()">Logout</a>
						</li>
					</ul>
				</div>
			</div>
		</div>
		<a
			*ngIf="!(authService.user$ | async)"
			class="btn md:btn-md btn-sm btn-primary"
			(click)="onNavigate('login')"
			>Login</a
		>
		<a
			*ngIf="!(authService.user$ | async)"
			class="btn md:btn-md btn-sm btn-outline"
			(click)="onNavigate('register')"
			>Register</a
		>
	</div>
</div>
