<app-card>
	<ng-container *ngIf="!emailSent; else emailSentTemplate">
		<h2 class="text-center text-2xl mb-6">Forgot password</h2>
		<app-dynamic-form
			[fields]="formFields"
			(formSubmit)="onFormSubmit($event)"
			submitText="Send reset email"
			[submitLoading]="sendingEmail"
		></app-dynamic-form>
	</ng-container>
</app-card>

<ng-template #emailSentTemplate>
	<div class="flex flex-col gap-3 items-center">
		<svg
			width="48"
			height="48"
			viewBox="0 0 48 48"
			xmlns="http://www.w3.org/2000/svg"
		>
			<defs>
				<mask id="ipSSuccess0">
					<g
						fill="none"
						stroke-linecap="round"
						stroke-linejoin="round"
						stroke-width="4"
					>
						<path
							fill="#fff"
							stroke="#fff"
							d="m24 4l5.253 3.832l6.503-.012l1.997 6.188l5.268 3.812L41 24l2.021 6.18l-5.268 3.812l-1.997 6.188l-6.503-.012L24 44l-5.253-3.832l-6.503.012l-1.997-6.188l-5.268-3.812L7 24l-2.021-6.18l5.268-3.812l1.997-6.188l6.503.012z"
						/>
						<path stroke="#000" d="m17 24l5 5l10-10" />
					</g>
				</mask>
			</defs>
			<path fill="currentColor" d="M0 0h48v48H0z" mask="url(#ipSSuccess0)" />
		</svg>
		<p class="text-lg text-center">
			Email sent to <br />
			<b> {{ emailSentTo }}</b> <br />Check your inbox.
		</p>
	</div>
</ng-template>
